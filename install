#!/bin/sh

export DOTFILES="${HOME}/Workspace/dotfiles"

if [ -z "${DOTFILES}" ]; then
  echo "Modify install to point where your DOTFILE is installed"
  exit
fi

#check for antibody
antibody 2>/dev/null 1> /dev/null
if [ $? -ne 0 ]; then
    echo "Installing antibody"
    curl -sL https://git.io/antibody | bash -s
fi


# link in all the dirs to ~/.dir
echo "Installing dirs"
for d in */; do
  if [ -e "${d}" ]; then
    echo "\t\t${d%/} -> ${HOME}/.${d%/}"
    ln -sf "${DOTFILES}/${d%/}" "${HOME}/.${d%/}"
  fi
done


rcfiles="\
  astylerc\
  dircolors\
  tmux.conf\
  emacs\
  zshrc\
  gitconfig\
  antibody-plugins.txt\
  zshrc\
"


echo "Installing RC files"
for rc in $rcfiles; do
  echo "\t\t${rc} -> ${HOME}/.${rc}"
  ln -sf "${DOTFILES}/${rc}" "${HOME}/.${rc}"
done
